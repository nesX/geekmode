---
import { formatPrice } from '../../utils/format';

/**
 * @typedef {Object} Props
 * @property {Object} product
 */

const { product } = Astro.props;
---

<article class="group bg-white rounded-xl border border-slate-200 overflow-hidden hover:shadow-lg transition-all duration-300">
  <a href={`/producto/${product.slug}`} class="block">
    <div class="aspect-square bg-slate-100 overflow-hidden relative">
      <img
        src={product.images[0]}
        alt={product.name}
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
        loading="lazy"
        width="400"
        height="400"
      />
      {product.price > 100000 && (
        <span class="absolute top-2 right-2 bg-secondary text-white text-[10px] font-bold px-2 py-1 rounded uppercase">
          Premium
        </span>
      )}
    </div>
    <div class="p-4">
      <p class="text-[10px] text-slate-500 uppercase tracking-wider mb-1">{product.category}</p>
      <h3 class="font-bold text-slate-900 group-hover:text-secondary transition-colors line-clamp-1">
        {product.name}
      </h3>
      <p class="text-lg font-bold text-primary mt-2">
        {formatPrice(product.price)}
      </p>
    </div>
  </a>
</article>
